---
title: Survival on the Titanic
author: by XEM Team
output: github_document
---


```{r load-packages-readme, include = FALSE}
 
library(tidyverse)
library(broom)
library(here)
library(tidymodels)
library(knitr)
library(xaringanthemer)
library(dplyr)
library(vcd)
library(grid)
library(rsample)
library(ggplot2)
library(ggpol)
library(scales)
library(caret)
library(corrplot)
library(ggridges)
library(forcats)
library(scales)
library(skimr)
library(tidypredict)
library(kableExtra)
library(pscl)
```
 
```{r load-data-readme, include=FALSE}
titanic <- read.csv(here::here("data/titanic.csv"))
```


## Summary
The Titanic, said to be “unsinkable”, collided with an iceberg and sank on April 1942, killing 1502 out of 2224 passengers and crew. This was one of the first accidents of this scale with important data about it which was used to then improve maritime safety by passing new policies, better safety procedures and construction to avoid another catastrophe. 

We have decided to analyse original data from the accident and explore how different attributes of passengers are related to their survival in the catastrophe. These attributes include gender, age and socio-economic status (represente by passenger class). We also looked at a range of other variables including ticket price and port of embarkation.

We then moved on to build a logistic regression model to try and predict survival based on these attributes. We focused on making our parsimonious and saw that the explanatory variables which allow for the model with better predicted performance are indeed gender, age and passenger class. 


```{r gbron-graph-side, echo=FALSE, out.width= "30%", out.extra='style="float:right; padding:10px"'}
include_graphics("https://www.researchgate.net/profile/Michael-Friendly/publication/330916468/figure/fig1/AS:723679168196613@1549549967751/GBrons-chart-of-The-Loss-of-the-Titanic-from-The-Sphere-4-May-1912-Each-subgroup.png")
```


One of the first visualizations (see right) to ever be created with data from the Titanic is a graph by graphic artist G. Bron published on the Sphere (British newspaper) one week after the accident. His work is an early innovation in data display where each subgroup shown by a bar with area proportional to the numbers of cases which today can be seen as an early mosaic plot. We indeed decided to work on our own mosaic plot to display the different factors related to survival in a single plot. 



``` {r table-mosaic, echo=FALSE, include = FALSE}
titanic_child <- titanic %>%
  mutate(ischild = ifelse(Age >= 18, "adult", "child"))
  
tbl <- xtabs(~Survived + Pclass + Sex + ischild, titanic_child)
ftable(tbl)
```

``` {r mosaic-plot-readme, echo = FALSE, out.width = "60%", fig.align = 'center'}
mosaic(~ Survived + Pclass + Sex + ischild, data = titanic_child, 
       highlighting = "Survived", highlighting_fill = c("#727272", "#79c36a"),
       labeling_args = list(set_varnames = c(Sex = "Gender",
                                             Survived = "Survived",
                                             Pclass = "Passenger Class",
                                             ischild = "Child")),
        set_labels = list(Survived = c("No", "Yes"),
                          Pclass = c("1st", "2nd", "3rd", "Crew"),
                          Sex = c("F", "M"),
                          ischild = c("A","C")),
       main = "Survival on the Titanic")
```




## Presentation

Our presentation can be found [here](presentation/presentation.html).

## Data 

Include a citation for your data here. 
See http://libraryguides.vu.edu.au/c.php?g=386501&p=4347840 for guidance on proper citation for datasets. 
If you got your data off the web, make sure to note the retrieval date.

## References

List any references here. You should, at a minimum, list your data source.

